<html>
	<head>
		<title>Scriptor test page</title>
		<script language="javascript" type="text/javascript" src="Scriptor.en.js"></script>
		<link rel="stylesheet" type="text/css" href="default.css" />

		<script language="javascript" type="text/javascript">
		var myDataView;
		var myTabView;
		var myDataView2;
		var myGalleryView;
		var myTreeView;
		
		myTabView = new tabView('tabTest', 'tabContainer', [ {label: 'dataView', elem : 'tab1'},
												{label: 'dataView2', elem : 'tab2'},
												{label: 'treeView', elem: 'tab4'},
												{label: 'galleryView', elem: 'tab5'},
												{label: 'calendarView', elem: 'tab3'}
												 ] );
		
		
		
		myDataView = new dataView('somediv', { width : 720, height : 200,
			paginating : true,
			rowsPerPage : 7,
			columns : [
				{
					Name : 'Id',
					Type : 'num',
					Width: 60,
					Format : function (n) {
						return 'xxx';
					}
				},
				{
					Name : 'parentId',
					Type : 'num',
					Width : 60,
					displayName : 'Padre'
				},
				{
					Name : 'Title',
					Type : 'alpha',
					Width: 200,
					displayName : 'Título',
					showToolTip : true
				},
				{
					Name : 'Link',
					Type : 'alpha',
					Width: 200
				}
			]
		});
		
		myDataViewCon = new dataViewConnector({
				dataView : myDataView,
				api : 'testapi.php',
				parameters : 'type=xml',
				method : 'POST',
				type:  'xml'
			});
		
		myDataView.addColumn( myDataView.createColumn( {
			Name : 'DateCreated',
			Type : 'date', 
			Width : 140,
			Format : dateFormat,
			displayName : 'Fecha de Creación'
		}));
		
		myDataView2 = new dataView('someotherdiv', { width : 720, height : 200, multiselect : false,
			columns : [
				{
					Name : 'id',
					Type : 'num',
					show: false,
					displayName : 'Id',
					Width : 30
				},
				{
					Name : 'User',
					Type : 'alpha',
					displayName : 'Usuario',
					Width : 80,
				},
				{
					Name : 'Pass',
					Type : 'alpha',
					show : false,
					width : 200,
					displayName : 'Clave'
				},
				{
					Name : 'FirstName',
					Type : 'alpha',
					Width : 150,
					displayName : 'Nombre'
				},
				{
					Name : 'LastName',
					Type : 'alpha',
					Width : 150,
					displayName : 'Apellido'
				}
			]
		});
		
		myCalendarView = new calendarView('calendarView');
		
		myGalleryView = new galleryView('galleryView', 'xml/getData3.php', 150, 180);
			
		myTreeView = new treeView('treeView', 'xml/getData4.php');
		
		
		function dateFormat(date) {
			return date.getDate() + '/' + (date.getMonth()+1) + '/' + date.getFullYear();
		}
		
		function loadView() {
			myDataView.Show(true);
			
			myDataView2.Show(false);
			
			myTabView.Show();
			
			myCalendarView.Show();
			
			myGalleryView.Show(false);
			
			myTreeView.Show(false);
			
			/* tabView beta testing */
			/*var ul = document.createElement('ul');
			document.body.appendChild(ul);
			var cont = document.createElement('div');
			document.body.appendChild(cont);
			var tabs = [document.createElement('div'), document.createElement('div')];
			cont.appendChild(tabs[0]);
			cont.appendChild(tabs[1]);
			tabs[0].innerHTML = 'content frst';
			tabs[1].innerHTML = 'content second';
			
			myOtherTabs = new tabView(ul, cont, [{ label: "First", elem : tabs[0]}, {label : "Second", elem : tabs[1]}]);
			myOtherTabs.Show();*/
		}
		
		Scriptor.addOnLoad(loadView);
	</script>
	<style type="text/css">
		h1 { font-weight: normal; font-size: 24px; font-family: Verdana, Arial, Helvetica, sans-serif; margin: 20px; }
	
		#container { margin: 20px; }
		.dataView { border: 1px solid #AAAAAA; margin: 20px; }
		.calendarView { margin: 20px; }
		.tabViewDiv { overflow: hidden; }
		.galleryView { width: 600px; height: 300px; }
		#treeView { width: 250px; height: 300px; }
	</style>
	</head>
	
	<body>
		<h1>Scriptor Test: Components are loaded inside a TabView</h1>
	
		<div id="container">
			<ul id="tabTest" class="tabViewUl"></ul>
			
			<div id="tabContainer">
				<div id="tab1" class="tabViewDiv">
					<div id="somediv" class="dataView">Garbage</div>
				</div>
		
				
				<div id="tab2" class="tabViewDiv">
					<div id="someotherdiv" class="dataView"></div>
				</div>
				
				<div id="tab3" class="tabViewDiv">
					<div id="calendarView" class="calendarView"></div>
				</div>
				
				<div id="tab4" class="tabViewDiv">
					<div id="treeView" class="treeView"></div>
				</div>
		
				
				<div id="tab5" class="tabViewDiv">
					<div id="galleryView" class="galleryView"></div>
				</div>
			</div>
		</div>	
	</body>
</html>
